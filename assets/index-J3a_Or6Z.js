var xt=Object.defineProperty;var Ft=(s,e,i)=>e in s?xt(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i;var U=(s,e,i)=>(Ft(s,typeof e!="symbol"?e+"":e,i),i),rt=(s,e,i)=>{if(!e.has(s))throw TypeError("Cannot "+i)};var t=(s,e,i)=>(rt(s,e,"read from private field"),i?i.call(s):e.get(s)),h=(s,e,i)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,i)},l=(s,e,i,n)=>(rt(s,e,"write to private field"),n?n.call(s,i):e.set(s,i),i);var R=(s,e,i)=>(rt(s,e,"access private method"),i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=i(o);fetch(o.href,a)}})();const H={x:0,y:0};window.addEventListener("mousemove",function(s){H.x=s.x,H.y=s.y});var u,k,M,tt,gt,et,ft;class Pt{constructor(e,i,n){h(this,tt);h(this,et);U(this,"flowFieldAnimation");h(this,u,void 0);h(this,k,void 0);h(this,M,void 0);l(this,u,e),t(this,u).strokeStyle="#C8C8C8",t(this,u).lineWidth=1,l(this,k,i),l(this,M,n),this.lastTime=0,this.interval=1e3/60,this.timer=0,this.cellSize=15,this.gradient,R(this,tt,gt).call(this),t(this,u).strokeStyle=this.gradient,this.radius=0,this.vr=.03}animate(e){const i=e-this.lastTime;if(this.lastTime=e,this.timer>this.interval){t(this,u).clearRect(0,0,t(this,k),t(this,M)),this.radius+=this.vr,(this.radius>5||this.radius<-5)&&(this.vr*=-1);for(let n=0;n<t(this,M);n+=this.cellSize)for(let o=0;o<t(this,k);o+=this.cellSize){const a=(Math.cos(H.x*o*1e-5)+Math.sin(H.y*n*1e-5))*this.radius;R(this,et,ft).call(this,a,o,n)}this.timer=0}else this.timer+=i;this.flowFieldAnimation=requestAnimationFrame(this.animate.bind(this))}}u=new WeakMap,k=new WeakMap,M=new WeakMap,tt=new WeakSet,gt=function(){this.gradient=t(this,u).createLinearGradient(0,0,t(this,k),t(this,M)),this.gradient.addColorStop(0,"#ADD8E6"),this.gradient.addColorStop(.25,"#77DD77"),this.gradient.addColorStop(.5,"#F5F5DC"),this.gradient.addColorStop(.75,"#E6E6FA"),this.gradient.addColorStop(1,"#FFD1DC")},et=new WeakSet,ft=function(e,i,n){let o=i,a=n,d=H.x-o,C=H.y-a,w=d*d+C*C;w>6e5?w=6e5:w<5e4&&(w=5e4);let O=w/1e4;t(this,u).beginPath(),t(this,u).moveTo(i,n),t(this,u).lineTo(i+Math.cos(e)*O,n+Math.sin(e)*O),t(this,u).stroke()};var m,D,W,it,pt,st,vt;class Lt{constructor(e,i,n){h(this,it);h(this,st);U(this,"flowFieldAnimation");h(this,m,void 0);h(this,D,void 0);h(this,W,void 0);l(this,m,e),t(this,m).strokeStyle="#C8C8C8",t(this,m).lineWidth=5,l(this,D,i),l(this,W,n),this.lastTime=0,this.interval=1e3/60,this.timer=0,this.cellSize=10,this.gradient,R(this,it,pt).call(this),t(this,m).strokeStyle=this.gradient}animate(e){const i=e-this.lastTime;if(this.lastTime=e,this.timer>this.interval){t(this,m).clearRect(0,0,t(this,D),t(this,W));for(let n=0;n<t(this,W);n+=this.cellSize)for(let o=0;o<t(this,D);o+=this.cellSize){const a=Math.cos(o)+Math.sin(n);R(this,st,vt).call(this,a,o,n)}this.timer=0}else this.timer+=i;this.flowFieldAnimation=requestAnimationFrame(this.animate.bind(this))}}m=new WeakMap,D=new WeakMap,W=new WeakMap,it=new WeakSet,pt=function(){this.gradient=t(this,m).createLinearGradient(0,0,t(this,D),t(this,W)),this.gradient.addColorStop(0,"#FF0000"),this.gradient.addColorStop(.25,"#FFFF00"),this.gradient.addColorStop(.5,"#00FF00"),this.gradient.addColorStop(.75,"#00FFFF"),this.gradient.addColorStop(1,"#0000FF")},st=new WeakSet,vt=function(e,i,n){t(this,m).beginPath(),t(this,m).moveTo(i,n),t(this,m).lineTo(i+e,n+e),t(this,m).stroke()};var g,z,x,X,b,nt,ot,yt;class Tt{constructor(e,i,n){h(this,ot);U(this,"flowFieldAnimation");h(this,g,void 0);h(this,z,void 0);h(this,x,void 0);h(this,X,[]);h(this,b,20);h(this,nt,10);l(this,g,e),t(this,g).strokeStyle="#C8C8C8",t(this,g).lineWidth=1,l(this,z,i),l(this,x,n),this.lastTime=0,this.timer=0}animate(e){const i=e-this.lastTime;if(this.lastTime=e,this.timer>t(this,nt)*1e3){const n=Math.random()*t(this,x),o=Math.floor(n/t(this,b)),a=Array(o).fill().map(()=>{const d=Math.random();return d<1/3?"#C0504E":d<2/3?"#51CDA0":null});t(this,X).push({x:t(this,z),height:n,cells:a}),this.timer=0}else this.timer+=i;if(this.timer%1e3<i){t(this,g).clearRect(0,0,t(this,z),t(this,x));for(let n of t(this,X))n.x-=t(this,b),R(this,ot,yt).call(this,n)}this.movingBoxes=requestAnimationFrame(this.animate.bind(this))}}g=new WeakMap,z=new WeakMap,x=new WeakMap,X=new WeakMap,b=new WeakMap,nt=new WeakMap,ot=new WeakSet,yt=function(e){t(this,g).beginPath(),t(this,g).rect(e.x,t(this,x)-e.height,t(this,b),e.height),t(this,g).stroke(),e.cells.forEach((i,n)=>{i&&(t(this,g).fillStyle=i,t(this,g).fillRect(e.x,t(this,x)-(n+1)*t(this,b),t(this,b),t(this,b)))})};var lt,Y,j,ct,I;class Et{constructor(e,i,n,o,a,d,C,w,O){h(this,lt,1);h(this,Y,void 0);h(this,j,void 0);h(this,ct,void 0);h(this,I,void 0);l(this,Y,new At(this,e,i,n)),l(this,j,new kt(this,o,a,d)),l(this,I,new WebSocket("wss://fstream.binance.com/stream?streams=btcusdt@kline_1m")),t(this,I).onmessage=Q=>{const ut=JSON.parse(Q.data);t(this,Y).updateData(ut.data),t(this,j).updateData(ut.data)}}}lt=new WeakMap,Y=new WeakMap,j=new WeakMap,ct=new WeakMap,I=new WeakMap;var ht,v,F,y,P,L,q,p,B,N,$;class At{constructor(e,i,n,o){h(this,ht,void 0);h(this,v,void 0);h(this,F,void 0);h(this,y,void 0);h(this,P,[]);h(this,L,void 0);h(this,q,void 0);h(this,p,void 0);h(this,B,void 0);h(this,N,60);h(this,$,void 0);l(this,ht,e),l(this,v,i),l(this,F,n),l(this,y,o),l(this,$,1*60*1e3/(30*60*1e3)*(t(this,F)-t(this,N)))}updateData(e){const{k:{t:i,T:n,o,h:a,l:d,c:C}}=e;l(this,p,t(this,q)*.997),l(this,B,t(this,q)*1.003),d<t(this,p)&&l(this,p,d),a>t(this,B)&&l(this,B,a),t(this,q)!==o&&(t(this,L)&&(t(this,P).push(t(this,L)),t(this,P).length>60&&t(this,P).shift()),l(this,q,o)),l(this,L,{startTime:i,endTime:n,openPrice:o,highPrice:a,lowPrice:d,closePrice:C}),this.drawLine()}drawLine(){if(t(this,v).clearRect(0,0,t(this,F),t(this,y)),t(this,P).length>0){const e=t(this,L).startTime-18e5;t(this,P).forEach((i,n)=>{const o=(i.startTime-e)/18e5*(t(this,F)-t(this,N));this.drawDataPoint(i,o)})}this.drawDataPoint(t(this,L),t(this,F)-t(this,N))}drawDataPoint(e,i){const n=t(this,y)/(t(this,B)-t(this,p)),o=t(this,y)-(e.openPrice-t(this,p))*n,a=t(this,y)-(e.highPrice-t(this,p))*n,d=t(this,y)-(e.lowPrice-t(this,p))*n,C=t(this,y)-(e.closePrice-t(this,p))*n;this.drawLineAt(i,a,"#c8c8c8"),this.drawLineAt(i,d,"#c8c8c8"),this.drawLineAt(i,o,"yellow"),this.drawLineAt(i,C,"#C0504E")}drawLineAt(e,i,n){t(this,v).beginPath(),t(this,v).moveTo(e,i),t(this,v).lineTo(e+t(this,$),i),t(this,v).strokeStyle=n,t(this,v).stroke()}}ht=new WeakMap,v=new WeakMap,F=new WeakMap,y=new WeakMap,P=new WeakMap,L=new WeakMap,q=new WeakMap,p=new WeakMap,B=new WeakMap,N=new WeakMap,$=new WeakMap;var at,T,J,E,f;class kt{constructor(e,i,n,o){h(this,at,void 0);h(this,T,void 0);h(this,J,void 0);h(this,E,void 0);h(this,f,[]);l(this,at,e),l(this,T,i),l(this,J,n),l(this,E,o)}updateData(e){const{k:{o:i,h:n,l:o,c:a}}=e;l(this,f,{openPrice:i,highPrice:n,lowPrice:o,closePrice:a}),this.drawLine()}drawLine(){t(this,T).clearRect(0,0,t(this,J),t(this,E));let e=t(this,f).openPrice*.997,i=t(this,f).openPrice*1.003;t(this,f).lowPrice<e&&(e=t(this,f).lowPrice),t(this,f).highPrice>i&&(i=t(this,f).highPrice);const n=t(this,E)/(i-e),o=t(this,E)-(t(this,f).closePrice-e)*n;this.drawTextAt(o,t(this,f).closePrice,"#C0504E"),this.drawTextAt(t(this,E)-20,Math.round(e),"#c8c8c8"),this.drawTextAt(20,Math.round(i),"#c8c8c8")}drawTextAt(e,i,n){t(this,T).font="14px monospace",t(this,T).fillStyle=n,t(this,T).fillText(i,10,e)}}at=new WeakMap,T=new WeakMap,J=new WeakMap,E=new WeakMap,f=new WeakMap;const mt=["btn2","btn3","btn4","tbl-btn1","tbl-btn2","tbl-btn3","tbl-btn4"],Mt=[bt,Ht,Dt,dt,Wt,qt,Bt];for(let s=0;s<mt.length;s++)document.getElementById(mt[s]).addEventListener("click",Mt[s]);const G=["settings-menu-0","settings-menu-1","settings-menu-2","settings-menu-3","settings-menu-4","menu"].map(s=>document.querySelector(`#${s}`)),K=["tbl-btn1","tbl-btn2","tbl-btn3","tbl-btn4"].map(s=>document.querySelector(`#${s}`));let r,c,A,S=0;window.onload=function(){dt()};window.addEventListener("resize",function(){dt()});function Ct(){K.forEach(s=>s.disabled=!1),G.forEach(s=>s.style.display="none")}function bt(){G[5].style.display=G[5].style.display==="none"?"block":"none"}function Dt(){S>=0&&S<=4&&(G[S].style.display=G[S].style.display==="none"?"block":"none")}function _(){if(bt(),Ct(),A!=null){cancelAnimationFrame(A.flowFieldAnimation);let s=document.getElementsByTagName("canvas");for(;s.length>0;)s[0].parentNode.removeChild(s[0])}}function dt(){_(),K[0].disabled=!0,S=1;let s=document.createElement("canvas");s.id="canvas1",document.body.appendChild(s),r=document.querySelector("#canvas1"),c=r.getContext("2d"),r.width=window.innerWidth,r.height=window.innerHeight,A=new Pt(c,r.width,r.height),A.animate(0)}function Wt(){_(),K[1].disabled=!0,S=2;let s=document.createElement("canvas");s.id="canvas1",document.body.appendChild(s),r=document.querySelector("#canvas1"),c=r.getContext("2d"),r.width=window.innerWidth,r.height=window.innerHeight,A=new Lt(c,r.width,r.height),A.animate(0)}function qt(){_(),K[2].disabled=!0,S=3;let s=document.createElement("canvas");s.id="canvas1",s.style.position="absolute",s.style.left="0px",s.style.top="0px",document.body.appendChild(s),r=document.querySelector("#canvas1"),c=r.getContext("2d"),r.width=window.innerWidth*.9,r.height=window.innerHeight*.95;let e=document.createElement("canvas");e.id="canvas2",e.style.position="absolute",e.style.left=r.width+"px",document.body.appendChild(e);let i=document.querySelector("#canvas2"),n=i.getContext("2d");i.width=window.innerWidth*.1,i.height=window.innerHeight*.95;let o=document.createElement("canvas");o.id="canvas3",o.style.position="absolute",o.style.left="0px",o.style.top=r.height+"px",document.body.appendChild(o);let a=document.querySelector("#canvas3"),d=a.getContext("2d");a.width=r.width,a.height=window.innerHeight*.05,new Et(c,r.width,r.height,n,i.width,i.height,d,a.width,a.height)}function Bt(){_(),K[3].disabled=!0,S=4;let s=document.createElement("canvas");s.id="canvas1",document.body.appendChild(s),r=document.querySelector("#canvas1"),c=r.getContext("2d"),r.width=window.innerWidth,r.height=window.innerHeight,A=new Tt(c,r.width,r.height),A.animate(0)}const V=document.querySelector("#settings-menu-0 > input.js-color-picker.color-picker"),Z=document.querySelector("#settings-menu-0 > input.js-line-range"),St=document.querySelector("#settings-menu-0 > label"),wt=document.querySelector("#settings-menu-0 > input.js-eraser-button"),Ot=s=>{c.strokeStyle=s.target.value},Rt=s=>{const e=s.target.value;St.innerHTML=e,c.lineWidth=e};V.addEventListener("change",Ot);Z.addEventListener("input",Rt);function Ht(){S=0;let s=!1;V.value="#C8C8C8",Z.value="1",St.innerHTML="1",wt.checked=!1,Ct(),_();let e=document.createElement("canvas");e.id="canvas1",document.body.appendChild(e),r=document.querySelector("#canvas1"),r.width=window.innerWidth,r.height=window.innerHeight,c=r.getContext("2d"),c.lineCap="round",c.strokeStyle=V.value;let i=0,n=0,o=!1;const a=()=>{o=!1},d=w=>{o=!0,[i,n]=[w.offsetX,w.offsetY]},C=w=>{if(o){const O=w.offsetX,Q=w.offsetY;c.beginPath(),c.moveTo(i,n),c.lineTo(O,Q),c.stroke(),i=O,n=Q}};r.addEventListener("mousedown",d),r.addEventListener("mousemove",C),r.addEventListener("mouseup",a),r.addEventListener("mouseout",a),wt.addEventListener("click",()=>{s=!s,s?(c.globalCompositeOperation="destination-out",c.lineWidth=Z.value*4):(c.globalCompositeOperation="source-over",c.lineWidth=Z.value*4,c.strokeStyle=V.value)})}
