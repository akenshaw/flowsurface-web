var At=Object.defineProperty;var Et=(n,e,i)=>e in n?At(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i;var et=(n,e,i)=>(Et(n,typeof e!="symbol"?e+"":e,i),i),ut=(n,e,i)=>{if(!e.has(n))throw TypeError("Cannot "+i)};var t=(n,e,i)=>(ut(n,e,"read from private field"),i?i.call(n):e.get(n)),a=(n,e,i)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,i)},l=(n,e,i,s)=>(ut(n,e,"write to private field"),s?s.call(n,i):e.set(n,i),i);var N=(n,e,i)=>(ut(n,e,"access private method"),i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))s(h);new MutationObserver(h=>{for(const o of h)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function i(h){const o={};return h.integrity&&(o.integrity=h.integrity),h.referrerPolicy&&(o.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?o.credentials="include":h.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(h){if(h.ep)return;h.ep=!0;const o=i(h);fetch(h.href,o)}})();const G={x:0,y:0};window.addEventListener("mousemove",function(n){G.x=n.x,G.y=n.y});var p,W,B,nt,vt,ht,yt;class xt{constructor(e,i,s){a(this,nt);a(this,ht);et(this,"flowFieldAnimation");a(this,p,void 0);a(this,W,void 0);a(this,B,void 0);l(this,p,e),t(this,p).strokeStyle="#C8C8C8",t(this,p).lineWidth=1,l(this,W,i),l(this,B,s),this.lastTime=0,this.interval=1e3/60,this.timer=0,this.cellSize=15,this.gradient,N(this,nt,vt).call(this),t(this,p).strokeStyle=this.gradient,this.radius=0,this.vr=.03}animate(e){const i=e-this.lastTime;if(this.lastTime=e,this.timer>this.interval){t(this,p).clearRect(0,0,t(this,W),t(this,B)),this.radius+=this.vr,(this.radius>5||this.radius<-5)&&(this.vr*=-1);for(let s=0;s<t(this,B);s+=this.cellSize)for(let h=0;h<t(this,W);h+=this.cellSize){const o=(Math.cos(G.x*h*1e-5)+Math.sin(G.y*s*1e-5))*this.radius;N(this,ht,yt).call(this,o,h,s)}this.timer=0}else this.timer+=i;this.flowFieldAnimation=requestAnimationFrame(this.animate.bind(this))}}p=new WeakMap,W=new WeakMap,B=new WeakMap,nt=new WeakSet,vt=function(){this.gradient=t(this,p).createLinearGradient(0,0,t(this,W),t(this,B)),this.gradient.addColorStop(0,"#ADD8E6"),this.gradient.addColorStop(.25,"#77DD77"),this.gradient.addColorStop(.5,"#F5F5DC"),this.gradient.addColorStop(.75,"#E6E6FA"),this.gradient.addColorStop(1,"#FFD1DC")},ht=new WeakSet,yt=function(e,i,s){let h=i,o=s,u=G.x-h,b=G.y-o,m=u*u+b*b;m>6e5?m=6e5:m<5e4&&(m=5e4);let E=m/1e4;t(this,p).beginPath(),t(this,p).moveTo(i,s),t(this,p).lineTo(i+Math.cos(e)*E,s+Math.sin(e)*E),t(this,p).stroke()};var v,O,R,ot,Ct,at,bt;class Lt{constructor(e,i,s){a(this,ot);a(this,at);et(this,"flowFieldAnimation");a(this,v,void 0);a(this,O,void 0);a(this,R,void 0);l(this,v,e),t(this,v).strokeStyle="#C8C8C8",t(this,v).lineWidth=5,l(this,O,i),l(this,R,s),this.lastTime=0,this.interval=1e3/60,this.timer=0,this.cellSize=10,this.gradient,N(this,ot,Ct).call(this),t(this,v).strokeStyle=this.gradient}animate(e){const i=e-this.lastTime;if(this.lastTime=e,this.timer>this.interval){t(this,v).clearRect(0,0,t(this,O),t(this,R));for(let s=0;s<t(this,R);s+=this.cellSize)for(let h=0;h<t(this,O);h+=this.cellSize){const o=Math.cos(h)+Math.sin(s);N(this,at,bt).call(this,o,h,s)}this.timer=0}else this.timer+=i;this.flowFieldAnimation=requestAnimationFrame(this.animate.bind(this))}}v=new WeakMap,O=new WeakMap,R=new WeakMap,ot=new WeakSet,Ct=function(){this.gradient=t(this,v).createLinearGradient(0,0,t(this,O),t(this,R)),this.gradient.addColorStop(0,"#FF0000"),this.gradient.addColorStop(.25,"#FFFF00"),this.gradient.addColorStop(.5,"#00FF00"),this.gradient.addColorStop(.75,"#00FFFF"),this.gradient.addColorStop(1,"#0000FF")},at=new WeakSet,bt=function(e,i,s){t(this,v).beginPath(),t(this,v).moveTo(i,s),t(this,v).lineTo(i+e,s+e),t(this,v).stroke()};var y,X,x,I,P,rt,lt,St;class kt{constructor(e,i,s){a(this,lt);et(this,"flowFieldAnimation");a(this,y,void 0);a(this,X,void 0);a(this,x,void 0);a(this,I,[]);a(this,P,20);a(this,rt,10);l(this,y,e),t(this,y).strokeStyle="#C8C8C8",t(this,y).lineWidth=1,l(this,X,i),l(this,x,s),this.lastTime=0,this.timer=0}animate(e){const i=e-this.lastTime;if(this.lastTime=e,this.timer>t(this,rt)*1e3){const s=Math.random()*t(this,x),h=Math.floor(s/t(this,P)),o=Array(h).fill().map(()=>{const u=Math.random();return u<1/3?"#C0504E":u<2/3?"#51CDA0":null});t(this,I).push({x:t(this,X),height:s,cells:o}),this.timer=0}else this.timer+=i;if(this.timer%1e3<i){t(this,y).clearRect(0,0,t(this,X),t(this,x));for(let s of t(this,I))s.x-=t(this,P),N(this,lt,St).call(this,s)}this.movingBoxes=requestAnimationFrame(this.animate.bind(this))}}y=new WeakMap,X=new WeakMap,x=new WeakMap,I=new WeakMap,P=new WeakMap,rt=new WeakMap,lt=new WeakSet,St=function(e){t(this,y).beginPath(),t(this,y).rect(e.x,t(this,x)-e.height,t(this,P),e.height),t(this,y).stroke(),e.cells.forEach((i,s)=>{i&&(t(this,y).fillStyle=i,t(this,y).fillRect(e.x,t(this,x)-(s+1)*t(this,P),t(this,P),t(this,P)))})};var mt,_,J,ft,Q,Y;class qt{constructor(e,i,s,h,o,u,b,m,E){a(this,mt,1);a(this,_,void 0);a(this,J,void 0);a(this,ft,void 0);a(this,Q,void 0);a(this,Y,[]);l(this,_,new Dt(this,e,i,s)),l(this,J,new Mt(this,h,o,u)),l(this,Q,new WebSocket("wss://fstream.binance.com/stream?streams=btcusdt@kline_1m/btcusdt@aggTrade")),t(this,Q).onmessage=f=>{const w=JSON.parse(f.data);w.stream.endsWith("@aggTrade")?t(this,Y).push({x:w.data.T,y:parseFloat(w.data.p),q:parseFloat(w.data.q),m:w.data.m}):w.stream.endsWith("@kline_1m")&&(t(this,_).updateData(w.data,t(this,Y)),t(this,J).updateData(w.data),l(this,Y,[]))}}}mt=new WeakMap,_=new WeakMap,J=new WeakMap,ft=new WeakMap,Q=new WeakMap,Y=new WeakMap;var ct,c,L,S,k,U,q,H,z,C,K,$,T;class Dt{constructor(e,i,s,h){a(this,ct,void 0);a(this,c,void 0);a(this,L,void 0);a(this,S,void 0);a(this,k,[]);a(this,U,[]);a(this,q,void 0);a(this,H,[]);a(this,z,void 0);a(this,C,void 0);a(this,K,void 0);a(this,$,60);a(this,T,void 0);l(this,ct,e),l(this,c,i),l(this,L,s),l(this,S,h),l(this,T,1*60*1e3/(30*60*1e3)*(t(this,L)-t(this,$)))}updateData(e,i){const{k:{t:s,T:h,o,h:u,l:b,c:m}}=e;l(this,C,t(this,z)*.997),l(this,K,t(this,z)*1.003),b<t(this,C)&&l(this,C,b),u>t(this,K)&&l(this,K,u),t(this,z)!==o&&(t(this,q)&&(t(this,k).push(t(this,q)),t(this,U).push(t(this,H)),t(this,k).length>60&&t(this,k).shift(),l(this,H,[])),l(this,z,o)),l(this,q,{startTime:s,endTime:h,openPrice:o,highPrice:u,lowPrice:b,closePrice:m}),t(this,H).push(i),this.drawStart()}drawStart(){if(t(this,c).clearRect(0,0,t(this,L),t(this,S)),t(this,k).length>0){const e=t(this,q).startTime-18e5;t(this,k).forEach((i,s)=>{const h=t(this,U)[s],o=(i.startTime-e)/(30*60*1e3)*(t(this,L)-t(this,$));this.drawDataPoint(h,i,o)})}this.drawDataPoint(t(this,H),t(this,q),t(this,L)-t(this,$))}drawDataPoint(e,i,s){const h=t(this,S)/(t(this,K)-t(this,C));e.forEach(E=>{E.forEach(f=>{const w=t(this,S)-(f.y-t(this,C))*h;f.q<.01?this.drawTradesAt(s,w,f.m,.05):f.q<.1?this.drawTradesAt(s,w,f.m,.1):f.q<1?this.drawTradesAt(s,w,f.m,.25):f.q<10?this.drawTradesAt(s,w,f.m,.5):f.q<100&&this.drawTradesAt(s,w,f.m,.9)})});const o=t(this,S)-(i.openPrice-t(this,C))*h,u=t(this,S)-(i.highPrice-t(this,C))*h,b=t(this,S)-(i.lowPrice-t(this,C))*h,m=t(this,S)-(i.closePrice-t(this,C))*h;this.drawKlineAt(s,u,"#c8c8c8"),this.drawKlineAt(s,b,"#c8c8c8"),this.drawKlineAt(s,o,"yellow"),this.drawKlineAt(s,m,m<o?"#9BE6D1":"#E6A1A0"),t(this,c).beginPath(),t(this,c).moveTo(s+t(this,T)/2,o),t(this,c).lineTo(s+t(this,T)/2,m),t(this,c).stroke()}drawKlineAt(e,i,s){t(this,c).beginPath(),t(this,c).moveTo(e,i),t(this,c).lineTo(e+t(this,T),i),t(this,c).strokeStyle=s,t(this,c).stroke()}drawTradesAt(e,i,s,h){t(this,c).beginPath(),s?(t(this,c).moveTo(e-2+t(this,T)/2,i),t(this,c).lineTo(e-2+t(this,T)/2-15,i),t(this,c).strokeStyle=`rgba(192, 80, 77, ${h})`):(t(this,c).moveTo(e+2+t(this,T)/2,i),t(this,c).lineTo(e+2+t(this,T)/2+15,i),t(this,c).strokeStyle=`rgba(81, 205, 160, ${h})`),t(this,c).stroke()}}ct=new WeakMap,c=new WeakMap,L=new WeakMap,S=new WeakMap,k=new WeakMap,U=new WeakMap,q=new WeakMap,H=new WeakMap,z=new WeakMap,C=new WeakMap,K=new WeakMap,$=new WeakMap,T=new WeakMap;var dt,D,V,F,g;class Mt{constructor(e,i,s,h){a(this,dt,void 0);a(this,D,void 0);a(this,V,void 0);a(this,F,void 0);a(this,g,[]);l(this,dt,e),l(this,D,i),l(this,V,s),l(this,F,h)}updateData(e){const{k:{o:i,h:s,l:h,c:o}}=e;l(this,g,{openPrice:i,highPrice:s,lowPrice:h,closePrice:o}),this.drawLine()}drawLine(){t(this,D).clearRect(0,0,t(this,V),t(this,F));let e=t(this,g).openPrice*.997,i=t(this,g).openPrice*1.003;t(this,g).lowPrice<e&&(e=t(this,g).lowPrice),t(this,g).highPrice>i&&(i=t(this,g).highPrice);const s=t(this,F)/(i-e),h=t(this,F)-(t(this,g).closePrice-e)*s,o=t(this,F)-(t(this,g).openPrice-e)*s;h>o?this.drawTextAt(h,t(this,g).closePrice,"#C0504E"):h<o&&this.drawTextAt(h,t(this,g).closePrice,"#51CDA0"),this.drawTextAt(t(this,F)-20,Math.round(e),"#c8c8c8"),this.drawTextAt(20,Math.round(i),"#c8c8c8")}drawTextAt(e,i,s){t(this,D).font="14px monospace",t(this,D).fillStyle=s,t(this,D).fillText(i,10,e)}}dt=new WeakMap,D=new WeakMap,V=new WeakMap,F=new WeakMap,g=new WeakMap;const gt=["btn2","btn3","btn4","tbl-btn1","tbl-btn2","tbl-btn3","tbl-btn4"],Wt=[Pt,Nt,Bt,wt,Ot,Rt,Ht];for(let n=0;n<gt.length;n++)document.getElementById(gt[n]).addEventListener("click",Wt[n]);const j=["settings-menu-0","settings-menu-1","settings-menu-2","settings-menu-3","settings-menu-4","menu"].map(n=>document.querySelector(`#${n}`)),Z=["tbl-btn1","tbl-btn2","tbl-btn3","tbl-btn4"].map(n=>document.querySelector(`#${n}`));let r,d,M,A=0;window.onload=function(){wt()};window.addEventListener("resize",function(){wt()});function Tt(){Z.forEach(n=>n.disabled=!1),j.forEach(n=>n.style.display="none")}function Pt(){j[5].style.display=j[5].style.display==="none"?"block":"none"}function Bt(){A>=0&&A<=4&&(j[A].style.display=j[A].style.display==="none"?"block":"none")}function tt(){if(Pt(),Tt(),M!=null){cancelAnimationFrame(M.flowFieldAnimation);let n=document.getElementsByTagName("canvas");for(;n.length>0;)n[0].parentNode.removeChild(n[0])}}function wt(){tt(),Z[0].disabled=!0,A=1;let n=document.createElement("canvas");n.id="canvas1",document.body.appendChild(n),r=document.querySelector("#canvas1"),d=r.getContext("2d"),r.width=window.innerWidth,r.height=window.innerHeight,M=new xt(d,r.width,r.height),M.animate(0)}function Ot(){tt(),Z[1].disabled=!0,A=2;let n=document.createElement("canvas");n.id="canvas1",document.body.appendChild(n),r=document.querySelector("#canvas1"),d=r.getContext("2d"),r.width=window.innerWidth,r.height=window.innerHeight,M=new Lt(d,r.width,r.height),M.animate(0)}function Rt(){tt(),Z[2].disabled=!0,A=3;let n=document.createElement("canvas");n.id="canvas1",n.style.position="absolute",n.style.left="0px",n.style.top="0px",document.body.appendChild(n),r=document.querySelector("#canvas1"),d=r.getContext("2d"),r.width=window.innerWidth*.9,r.height=window.innerHeight*.95;let e=document.createElement("canvas");e.id="canvas2",e.style.position="absolute",e.style.left=r.width+"px",document.body.appendChild(e);let i=document.querySelector("#canvas2"),s=i.getContext("2d");i.width=window.innerWidth*.1,i.height=window.innerHeight*.95;let h=document.createElement("canvas");h.id="canvas3",h.style.position="absolute",h.style.left="0px",h.style.top=r.height+"px",document.body.appendChild(h);let o=document.querySelector("#canvas3"),u=o.getContext("2d");o.width=r.width,o.height=window.innerHeight*.05,new qt(d,r.width,r.height,s,i.width,i.height,u,o.width,o.height)}function Ht(){tt(),Z[3].disabled=!0,A=4;let n=document.createElement("canvas");n.id="canvas1",document.body.appendChild(n),r=document.querySelector("#canvas1"),d=r.getContext("2d"),r.width=window.innerWidth,r.height=window.innerHeight,M=new kt(d,r.width,r.height),M.animate(0)}const it=document.querySelector("#settings-menu-0 > input.js-color-picker.color-picker"),st=document.querySelector("#settings-menu-0 > input.js-line-range"),Ft=document.querySelector("#settings-menu-0 > label"),pt=document.querySelector("#settings-menu-0 > input.js-eraser-button"),zt=n=>{d.strokeStyle=n.target.value},Kt=n=>{const e=n.target.value;Ft.innerHTML=e,d.lineWidth=e};it.addEventListener("change",zt);st.addEventListener("input",Kt);function Nt(){A=0;let n=!1;it.value="#C8C8C8",st.value="1",Ft.innerHTML="1",pt.checked=!1,Tt(),tt();let e=document.createElement("canvas");e.id="canvas1",document.body.appendChild(e),r=document.querySelector("#canvas1"),r.width=window.innerWidth,r.height=window.innerHeight,d=r.getContext("2d"),d.lineCap="round",d.strokeStyle=it.value;let i=0,s=0,h=!1;const o=()=>{h=!1},u=m=>{h=!0,[i,s]=[m.offsetX,m.offsetY]},b=m=>{if(h){const E=m.offsetX,f=m.offsetY;d.beginPath(),d.moveTo(i,s),d.lineTo(E,f),d.stroke(),i=E,s=f}};r.addEventListener("mousedown",u),r.addEventListener("mousemove",b),r.addEventListener("mouseup",o),r.addEventListener("mouseout",o),pt.addEventListener("click",()=>{n=!n,n?(d.globalCompositeOperation="destination-out",d.lineWidth=st.value*4):(d.globalCompositeOperation="source-over",d.lineWidth=st.value*4,d.strokeStyle=it.value)})}
